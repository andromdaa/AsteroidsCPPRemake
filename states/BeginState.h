//
// Created by Cole on 4/23/2022.
//

#ifndef ASTEROIDSSFML_BEGINSTATE_H
#define ASTEROIDSSFML_BEGINSTATE_H

#include "GameState.h"

class BeginState : public GameState {
public:
    static BeginState* Instance(sf::RenderWindow &window, GameManager& gameManager);
    void transitionState(GameManager* g) override;
    void tickState() override;
    void renderState() override;
private:
    int iteration = 0;
    std::vector<sf::Text> beginText;
    void drawStars();
    void generateStars();
    void handleEvents();
    BeginState(sf::RenderWindow &window, GameManager& gameManager);
    const int MAX_STARS = 100;
    void drawText();
    void updateText();
    void spawnText();
private:
    sf::String chars[20] = {
            "P",
            "r",
            "e",
            "s",
            "s",
            " ",
            "a",
            " ",
            "k",
            "e",
            "y",
            " ",
            "t",
            "o",
            "",
            "p",
            "l",
            "a",
            "y",
            "!",
    };

    std::vector<float> sineValues = {
            -0.785269,
            -0.784494,
            -0.782945,
            -0.780623,
            -0.777531,
            -0.773671,
            -0.769048,
            -0.763666,
            -0.75753,
            -0.750647,
            -0.743023,
            -0.734666,
            -0.725583,
            -0.715785,
            -0.70528,
            -0.694079,
            -0.682194,
            -0.669634,
            -0.656415,
            -0.642547,
            -0.628045,
            -0.612923,
            -0.597197,
            -0.580881,
            -0.563992,
            -0.546546,
            -0.528561,
            -0.510054,
            -0.491044,
            -0.47155,
            -0.451589,
            -0.431184,
            -0.410353,
            -0.389116,
            -0.367496,
            -0.345513,
            -0.323189,
            -0.300547,
            -0.277607,
            -0.254394,
            -0.230929,
            -0.207237,
            -0.18334,
            -0.159262,
            -0.135027,
            -0.110659,
            -0.0861816,
            -0.0616191,
            -0.0369958,
            -0.012336,
            0.012336,
            0.0369958,
            0.0616191,
            0.0861816,
            0.110659,
            0.135027,
            0.159262,
            0.18334,
            0.207237,
            0.230929,
            0.254394,
            0.277607,
            0.300546,
            0.323189,
            0.345513,
            0.367496,
            0.389116,
            0.410353,
            0.431184,
            0.451589,
            0.47155,
            0.491044,
            0.510054,
            0.528561,
            0.546546,
            0.563992,
            0.580881,
            0.597197,
            0.612923,
            0.628045,
            0.642547,
            0.656415,
            0.669634,
            0.682194,
            0.694079,
            0.70528,
            0.715785,
            0.725583,
            0.734666,
            0.743023,
            0.750647,
            0.75753,
            0.763666,
            0.769048,
            0.773671,
            0.777531,
            0.780623,
            0.782945,
            0.784494,
            0.785269,
            0.785269,
            0.784494,
            0.782945,
            0.780623,
            0.777531,
            0.773671,
            0.769048,
            0.763666,
            0.75753,
            0.750647,
            0.743023,
            0.734666,
            0.725583,
            0.715785,
            0.70528,
            0.694079,
            0.682194,
            0.669634,
            0.656415,
            0.642547,
            0.628045,
            0.612923,
            0.597197,
            0.580881,
            0.563992,
            0.546546,
            0.528561,
            0.510054,
            0.491044,
            0.47155,
            0.45159,
            0.431184,
            0.410353,
            0.389116,
            0.367496,
            0.345513,
            0.323189,
            0.300547,
            0.277607,
            0.254394,
            0.230929,
            0.207237,
            0.18334,
            0.159262,
            0.135027,
            0.110659,
            0.0861816,
            0.0616191,
            0.0369958,
            0.012336,
            -0.012336,
            -0.0369958,
            -0.0616191,
            -0.0861816,
            -0.110659,
            -0.135027,
            -0.159262,
            -0.18334,
            -0.207237,
            -0.230929,
            -0.254394,
            -0.277607,
            -0.300546,
            -0.323189,
            -0.345513,
            -0.367496,
            -0.389116,
            -0.410353,
            -0.431184,
            -0.451589,
            -0.47155,
            -0.491044,
            -0.510054,
            -0.528561,
            -0.546546,
            -0.563992,
            -0.580881,
            -0.597197,
            -0.612923,
            -0.628045,
            -0.642547,
            -0.656415,
            -0.669634,
            -0.682194,
            -0.694079,
            -0.70528,
            -0.715785,
            -0.725583,
            -0.734666,
            -0.743023,
            -0.750647,
            -0.75753,
            -0.763666,
            -0.769048,
            -0.773671,
            -0.777531,
            -0.780623,
            -0.782945,
            -0.784494,
            -0.785269
    };
//    {
//            -0.627905,
//            -0.625427,
//            -0.620481,
//            -0.613086,
//            -0.603271,
//            -0.591076,
//            -0.576547,
//            -0.559744,
//            -0.540731,
//            -0.519585,
//            -0.496387,
//            -0.471231,
//            -0.444215,
//            -0.415446,
//            -0.385038,
//            -0.353109,
//            -0.319788,
//            -0.285204,
//            -0.249494,
//            -0.2128,
//            -0.175266,
//            -0.137041,
//            -0.0982745,
//            -0.0591203,
//            -0.0197327,
//            0.0197327,
//            0.0591203,
//            0.0982745,
//            0.137041,
//            0.175266,
//            0.2128,
//            0.249494,
//            0.285204,
//            0.319788,
//            0.353109,
//            0.385038,
//            0.415446,
//            0.444215,
//            0.471231,
//            0.496387,
//            0.519585,
//            0.540731,
//            0.559744,
//            0.576547,
//            0.591076,
//            0.603271,
//            0.613086,
//            0.620481,
//            0.625427,
//            0.627905
//    };
};


#endif //ASTEROIDSSFML_BEGINSTATE_H
